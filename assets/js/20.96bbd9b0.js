(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{447:function(e,t,a){e.exports=a.p+"assets/img/b6caa26f285d97b9244f1e778a23d4d90c18a0ccaa6a3ce5e09245a149b4c464.d085c309.png"},478:function(e,t,a){"use strict";a.r(t);var s=a(25),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"webhook通知渠道怎么用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webhook通知渠道怎么用"}},[e._v("#")]),e._v(" Webhook通知渠道怎么用")]),e._v(" "),s("p",[e._v("在告警通知人里面的 "),s("code",[e._v("WebHook")]),e._v(" 通知渠道怎么用？是填写钉钉或者知音楼的 "),s("code",[e._v("WebHook")]),e._v(" 吗？其实这个跟钉钉、知音楼没有关系，他是一个特殊的通知渠道，他通知的不是人，是系统。比如这里填写一个URL之后，当该任务触发告警之后，会向这个URL里面发送通知，达到通知对应系统的目的。")]),e._v(" "),s("h2",{attrs:{id:"webhook通知数据格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webhook通知数据格式"}},[e._v("#")]),e._v(" WebHook通知数据格式")]),e._v(" "),s("p",[e._v("请参考 "),s("RouterLink",{attrs:{to:"/alarm/webhook-notice-data-format.html"}},[e._v("WebHook通知数据交互格式约定")])],1),e._v(" "),s("p",[e._v("通知的示例报文如下：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('POST /alarm/callback HTTP/1.1\nHost: 127.0.0.1:9988\nConnection: keep-alive\nUser-Agent: GuzzleHttp/6.5.3 curl/7.68.0 PHP/7.2.26\nContent-Type: application/json\nAccept-Encoding: gzip, deflate\nContent-Length: 259\n\n{"event":"ALARM","type":"compress_disable","data":{"task":{"id":1,"name":"\\u7530\\u7247\\u6d4b\\u8bd5"},"history":{"id":"","batch":0,"metric":"","uuid":"94c598d1-95ab-4398-aa7e-7f007af37b26","level":0,"ctn":"{\\"test\\":123}","notice_time":1596177364}},"extra":[]}\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br")])]),s("h2",{attrs:{id:"webhook配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webhook配置"}},[e._v("#")]),e._v(" WebHook配置")]),e._v(" "),s("p",[e._v("如下图所示，配置一个有效的URL地址即可，且保证网络是可通的")]),e._v(" "),s("p",[s("img",{attrs:{src:a(447),alt:"图 1"}})])])}),[],!1,null,null,null);t.default=n.exports}}]);