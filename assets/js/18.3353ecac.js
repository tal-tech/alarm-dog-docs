(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{364:function(v,_,t){v.exports=t.p+"assets/img/0498968cb196854511dc5c051826ffd6a2db53fc6fe836ae7cca7fe4cc77287e.49daa020.png"},460:function(v,_,t){"use strict";t.r(_);var e=t(25),c=Object(e.a)({},(function(){var v=this,_=v.$createElement,e=v._self._c||_;return e("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[e("p",[v._v("告警过滤是把从消费队列中取出的告警根据设定的条件进行过滤，如果符合条件要被过滤，则对应的告警将不会发出，否则告警将正常发送。告警过滤发生在消费告警、自动恢复之后，即进入主体告警逻辑之前对告警进行拦截处理，可以临时性屏蔽一些告警发送，而不用去修改业务代码。")]),v._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[v._v("请注意")]),v._v(" "),e("p",[v._v("哮天犬不是大数据计算平台，不适合在告警未做任何条件预处理之前全部发到哮天犬做告警过滤。比如不适合把某个域名的访问日志全部告警到哮天犬，然后在哮天犬做告警过滤达到对某些特定的日志告警，应该在日志中心自动化告警这种大数据计算平台配置日志过滤条件，经过大数据计算平台预处理之后再发到哮天犬。")]),v._v(" "),e("p",[v._v("告警过滤适用于在服务爆发性异常、压测等特定场景想临时屏蔽某些告警的场景。")])]),v._v(" "),e("h2",{attrs:{id:"过滤模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#过滤模式"}},[v._v("#")]),v._v(" 过滤模式")]),v._v(" "),e("p",[v._v("过滤模式分为 "),e("code",[v._v("白名单")]),v._v(" 和 "),e("code",[v._v("黑名单")]),v._v(" 两种模式，即允许通过和禁止通过过滤的意思。")]),v._v(" "),e("p",[v._v("选择 "),e("code",[v._v("白名单")]),v._v(" 模式时，告警只有 "),e("strong",[v._v("满足")]),v._v(" 过滤条件中配置的条件时，才能进行到下一步的告警流程处理，比如告警收敛、正常发送告警等等，如果不满足条件，则会根据 "),e("code",[v._v("未命中过滤")]),v._v(" 中的选项进行处理。")]),v._v(" "),e("p",[v._v("选择 "),e("code",[v._v("黑名单")]),v._v(" 模式时，告警 "),e("strong",[v._v("不满足")]),v._v(" 过滤条件时，才能进行到下一步的告警流程处理，比如告警收敛、正常发送告警等等，如果满足条件，则会根据 "),e("code",[v._v("未命中过滤")]),v._v(" 中的选项进行处理。")]),v._v(" "),e("h2",{attrs:{id:"未命中过滤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#未命中过滤"}},[v._v("#")]),v._v(" 未命中过滤")]),v._v(" "),e("p",[v._v("未命中过滤实际上应该是经过 "),e("code",[v._v("过滤模式")]),v._v(" 和 "),e("code",[v._v("过滤条件")]),v._v(" 处理之后得到的一种状态，在 "),e("code",[v._v("过滤模式")]),v._v(" 中有说明：")]),v._v(" "),e("p",[e("strong",[v._v("不满足白名单条件和满足黑名单条件的状态。")])]),v._v(" "),e("p",[v._v("所以实际上 "),e("code",[v._v("未命中过滤")]),v._v(" 的表述不是很清晰，字面意思只能会意不满足白名单条件。关于这点，欢迎各位老师提建议换成更准确的描述。")]),v._v(" "),e("p",[v._v("如果选择 "),e("code",[v._v("直接入库")]),v._v("，表示此类告警保存到数据库中作为告警记录但不发送告警（如果在基本信息中选择了告警不入库存储，则此处不进行入库处理），如果选择 "),e("code",[v._v("丢弃告警")]),v._v("，表示此类告警不保存数据库直接丢弃，也不发送告警。")]),v._v(" "),e("h2",{attrs:{id:"过滤条件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#过滤条件"}},[v._v("#")]),v._v(" 过滤条件")]),v._v(" "),e("p",[v._v("过滤条件是告警内容判断告警是否满足过滤条件的依据。告警条件使用的是最基本的逻辑运算单元，可以组合成 "),e("code",[v._v("(A1 && A2) || (B1) || (C1 && C2 && C3)")]),v._v(" 逻辑运算，每一组 "),e("code",[v._v("()")]),v._v(" 为一组且逻辑单元，每个且逻辑单元有一个告警级别配置，其中有五个选项："),e("code",[v._v("通知")]),v._v("、"),e("code",[v._v("警告")]),v._v("、"),e("code",[v._v("错误")]),v._v("、"),e("code",[v._v("紧急")]),v._v("、"),e("code",[v._v("继承")]),v._v("，前面四个表示满足此逻辑单元条件时，会终止下面的条件继续判断，同时 "),e("strong",[v._v("篡改")]),v._v(" 告警内容中的告警级别 "),e("code",[v._v("level")]),v._v(" 为选定的告警级别，如果选择 "),e("code",[v._v("继承")]),v._v("，表示不篡改。")]),v._v(" "),e("p",[e("img",{attrs:{src:t(364),alt:"图 1"}})]),v._v(" "),e("p",[v._v("告警条件字段一般以 "),e("code",[v._v("ctn.")]),v._v(" 开头，使用方法与告警收敛的"),e("RouterLink",{attrs:{to:"/advance-function/compress.html#收敛方式-条件收敛"}},[v._v("收敛条件")]),v._v("一样，具体说明请参考：")],1),v._v(" "),e("ul",[e("li",[v._v("字段请移步："),e("RouterLink",{attrs:{to:"/advance-function/compress.html#条件收敛-字段"}},[v._v("字段")])],1),v._v(" "),e("li",[v._v("条件请移步："),e("RouterLink",{attrs:{to:"/advance-function/compress.html#条件收敛-条件"}},[v._v("条件")])],1),v._v(" "),e("li",[v._v("阈值请移步："),e("RouterLink",{attrs:{to:"/advance-function/compress.html#条件收敛-阈值"}},[v._v("阈值")])],1),v._v(" "),e("li",[v._v("逻辑运算单元请移步："),e("RouterLink",{attrs:{to:"/advance-function/compress.html#条件收敛-逻辑运算单元"}},[v._v("逻辑运算单元")])],1)])])}),[],!1,null,null,null);_.default=c.exports}}]);