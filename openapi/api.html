<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OpenAPI接口 | 哮天犬监控告警平台</title>
    <meta name="generator" content="VuePress 1.5.1">
    <link rel="icon" href="/alarm-dog-docs/logo.png">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/alarm-dog-docs/assets/css/0.styles.fa7f8589.css" as="style"><link rel="preload" href="/alarm-dog-docs/assets/js/app.af20afb1.js" as="script"><link rel="preload" href="/alarm-dog-docs/assets/js/2.d68acc10.js" as="script"><link rel="preload" href="/alarm-dog-docs/assets/js/39.809699a6.js" as="script"><link rel="prefetch" href="/alarm-dog-docs/assets/js/10.cb6ca97d.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/11.a92c3c0c.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/12.76d19118.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/13.ad7a966f.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/14.36a3d3a1.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/15.2a85f4ac.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/16.ca4273b3.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/17.378d4cb9.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/18.3353ecac.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/19.3f341f38.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/20.96bbd9b0.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/21.acb8eeca.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/22.72703b70.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/23.56d9c294.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/24.c17773da.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/25.220a3672.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/26.7b01d31a.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/27.c46811fb.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/28.50c9440d.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/29.732e0676.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/3.f7905a57.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/30.fb65c9ab.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/31.a3ce1a14.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/32.637a07d3.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/33.f910a9c6.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/34.4b681ac9.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/35.15025639.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/36.fed83712.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/37.621375e2.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/38.3e8881e6.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/4.68ef241b.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/40.506ca957.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/41.dfaca082.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/42.9fee1072.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/43.1dec01a8.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/44.a782f35e.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/45.36b08e1f.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/46.c132113d.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/47.a7dba454.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/48.efd0b31e.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/5.e8f5974a.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/6.1ca87934.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/7.84dc2d65.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/8.764ad4f3.js"><link rel="prefetch" href="/alarm-dog-docs/assets/js/9.8541817f.js">
    <link rel="stylesheet" href="/alarm-dog-docs/assets/css/0.styles.fa7f8589.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/alarm-dog-docs/" class="home-link router-link-active"><img src="/alarm-dog-docs/logo.png" alt="哮天犬监控告警平台" class="logo"> <span class="site-name can-hide">哮天犬监控告警平台</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/tal-tech/alarm-dog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/tal-tech/alarm-dog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前言</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/alarm-dog-docs/preface/introduction.html" class="sidebar-link">项目介绍</a></li><li><a href="/alarm-dog-docs/preface/platform-arch.html" class="sidebar-link">平台架构</a></li><li><a href="/alarm-dog-docs/preface/concept.html" class="sidebar-link">概念介绍</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>告警接入</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/alarm-dog-docs/alarm/quick-start.html" class="sidebar-link">快速入门</a></li><li><a href="/alarm-dog-docs/alarm/alarm-api.html" class="sidebar-link">告警接口API</a></li><li><a href="/alarm-dog-docs/alarm/aliyun.html" class="sidebar-link">阿里云告警接入</a></li><li><a href="/alarm-dog-docs/alarm/arms.html" class="sidebar-link">阿里云Arms告警接入</a></li><li><a href="/alarm-dog-docs/alarm/grafana.html" class="sidebar-link">Grafana告警接入</a></li><li><a href="/alarm-dog-docs/alarm/falcon.html" class="sidebar-link">OpenFalcon告警接入</a></li><li><a href="/alarm-dog-docs/alarm/alertmanager.html" class="sidebar-link">AlertManager告警接入</a></li><li><a href="/alarm-dog-docs/alarm/webhook-notice-data-format.html" class="sidebar-link">WebHook通知数据交互格式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>SDK</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/alarm-dog-docs/sdk/summary-alarm.html" class="sidebar-link">哮天犬告警SDK</a></li><li><a href="/alarm-dog-docs/sdk/php-alarm.html" class="sidebar-link">PHP告警SDK</a></li><li><a href="/alarm-dog-docs/sdk/golang-alarm.html" class="sidebar-link">Golang告警SDK</a></li><li><a href="/alarm-dog-docs/sdk/java-alarm.html" class="sidebar-link">Java告警SDK</a></li><li><a href="/alarm-dog-docs/sdk/shell-alarm.html" class="sidebar-link">Shell脚本告警示例</a></li><li><a href="/alarm-dog-docs/sdk/nodejs-alarm.html" class="sidebar-link">NodeJs脚本告警示例</a></li><li><a href="/alarm-dog-docs/sdk/hyperf-noticer.html" class="sidebar-link">哮天犬通知SDK</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>监控接入</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/alarm-dog-docs/monitor/protocol-detect.html" class="sidebar-link">心跳探活</a></li><li><a href="/alarm-dog-docs/monitor/universal.html" class="sidebar-link">通用监控</a></li><li><a href="/alarm-dog-docs/monitor/cycle-compare.html" class="sidebar-link">同比环比监控</a></li><li><a href="/alarm-dog-docs/monitor/data-source.html" class="sidebar-link">数据源</a></li><li><a href="/alarm-dog-docs/monitor/cycle-compare-datainit.html" class="sidebar-link">同比环比数据初始化</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>高级功能</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/alarm-dog-docs/advance-function/compress.html" class="sidebar-link">告警收敛</a></li><li><a href="/alarm-dog-docs/advance-function/filter.html" class="sidebar-link">告警过滤</a></li><li><a href="/alarm-dog-docs/advance-function/upgrade.html" class="sidebar-link">告警升级</a></li><li><a href="/alarm-dog-docs/advance-function/workflow.html" class="sidebar-link">告警工作流</a></li><li><a href="/alarm-dog-docs/advance-function/receiver.html" class="sidebar-link">告警通知人</a></li><li><a href="/alarm-dog-docs/advance-function/dispatcher.html" class="sidebar-link">分级告警</a></li><li><a href="/alarm-dog-docs/advance-function/alarm-template.html" class="sidebar-link">告警模板</a></li><li><a href="/alarm-dog-docs/advance-function/recovery.html" class="sidebar-link">自动恢复</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>开放平台</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/alarm-dog-docs/openapi/introduction.html" class="sidebar-link">开放平台</a></li><li><a href="/alarm-dog-docs/openapi/app-apply.html" class="sidebar-link">应用申请</a></li><li><a href="/alarm-dog-docs/openapi/api-sign.html" class="sidebar-link">接口签名</a></li><li><a href="/alarm-dog-docs/openapi/api.html" aria-current="page" class="active sidebar-link">接口列表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#部门列表-department-simple" class="sidebar-link">部门列表-/department/simple</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#部门信息详情-department-show" class="sidebar-link">部门信息详情-/department/show</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#用户详情-user-profile" class="sidebar-link">用户详情-/user/profile</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#用户手机号更新-user-updatephone" class="sidebar-link">用户手机号更新-/user/updatephone</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#告警任务详情-alarmtask-show" class="sidebar-link">告警任务详情-/alarmtask/show</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#告警任务创建-alarmtask-store" class="sidebar-link">告警任务创建-/alarmtask/store</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#告警任务更新-alarmtask-update" class="sidebar-link">告警任务更新-/alarmtask/update</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#告警任务部分更新-alarmtask-updatefields" class="sidebar-link">告警任务部分更新-/alarmtask/updatefields</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#告警任务删除-alarmtask" class="sidebar-link">告警任务删除-/alarmtask</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#告警任务停止-alarmtask-stop" class="sidebar-link">告警任务停止-/alarmtask/stop</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#告警任务开启-alarmtask-start" class="sidebar-link">告警任务开启- /alarmtask/start</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#告警任务挂起-alarmtask-pause" class="sidebar-link">告警任务挂起-/alarmtask/pause</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#工作流详情-workflow-show" class="sidebar-link">工作流详情-/workflow/show</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#工作流认领-workflow-claim" class="sidebar-link">工作流认领-/workflow/claim</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#工作流指派-workflow-assign" class="sidebar-link">工作流指派-/workflow/assign</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#工作流处理完成-workflow-processed" class="sidebar-link">工作流处理完成-/workflow/processed</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#工作流重新激活-workflow-reactive" class="sidebar-link">工作流重新激活-/workflow/reactive</a></li><li class="sidebar-sub-header"><a href="/alarm-dog-docs/openapi/api.html#工作流关闭-workflow-close" class="sidebar-link">工作流关闭-/workflow/close</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>常见问题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/alarm-dog-docs/faq/summary.html" class="sidebar-link">问题汇总</a></li><li><a href="/alarm-dog-docs/faq/how-to-config-dinggroup.html" class="sidebar-link">怎么配置钉钉机器人告警</a></li><li><a href="/alarm-dog-docs/faq/how-to-config-yachgroup.html" class="sidebar-link">怎么配置知音楼机器人告警</a></li><li><a href="/alarm-dog-docs/faq/cannot-receiver-sms-phone.html" class="sidebar-link">收不到短信和电话</a></li><li><a href="/alarm-dog-docs/faq/how-to-use-webhook.html" class="sidebar-link">Webhook怎么用</a></li><li><a href="/alarm-dog-docs/faq/how-to-find-alarm-content.html" class="sidebar-link">怎么找到告警内容</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="接口列表"><a href="#接口列表" class="header-anchor">#</a> 接口列表</h1> <p>以下接口都默认省略 <code>OpenAPI</code> 的应用鉴权参数，请根据文档 <a href="/alarm-dog-docs/openapi/api-sign.html">接口签名</a> 实现应用鉴权。任务鉴权会列出参数，表名该接口需要任务鉴权，但不再重复说明任务鉴权算法，请根据文档 <a href="/alarm-dog-docs/openapi/api-sign.html">接口签名</a> 实现任务鉴权。</p> <h2 id="部门列表-department-simple"><a href="#部门列表-department-simple" class="header-anchor">#</a> 部门列表-/department/simple</h2> <p><code>GET /department/simple</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <p><code>无</code></p> <p><strong>Request Body:</strong></p> <p><code>无</code></p> <p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;departments&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;pinyin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bumen&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;pinyin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zhiliangyanfabu&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门2&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><table><thead><tr><th>Field</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>code</td> <td>Number</td> <td>状态码：0-成功；其他-失败</td></tr> <tr><td>msg</td> <td>String</td> <td>错误信息，以 <code>code</code> 的值为准</td></tr> <tr><td>data</td> <td>Object</td> <td>响应结果</td></tr> <tr><td>data.departments</td> <td>Array</td> <td>部门列表</td></tr> <tr><td>data.departments.id</td> <td>Number</td> <td>部门ID</td></tr> <tr><td>data.departments.pingyin</td> <td>String</td> <td>部门名称拼音</td></tr> <tr><td>data.departments.name</td> <td>String</td> <td>部门名称</td></tr> <tr><td>data.departments.remark</td> <td>String</td> <td>备注信息</td></tr></tbody></table> <h2 id="部门信息详情-department-show"><a href="#部门信息详情-department-show" class="header-anchor">#</a> 部门信息详情-/department/show</h2> <p><code>GET /department/show</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <table><thead><tr><th style="text-align:left;">参数名称</th> <th style="text-align:left;">是否必须</th> <th style="text-align:left;">示例</th> <th style="text-align:left;">备注</th></tr></thead> <tbody><tr><td style="text-align:left;">id</td> <td style="text-align:left;">是</td> <td style="text-align:left;">1</td> <td style="text-align:left;">部门ID</td></tr></tbody></table> <p><strong>Request Body:</strong></p> <p><code>无</code></p> <p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;bu_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;pinyin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bumen&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;updated_by&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">1591614072</span><span class="token punctuation">,</span>
            <span class="token property">&quot;updated_at&quot;</span><span class="token operator">:</span> <span class="token number">1591614072</span><span class="token punctuation">,</span>
            <span class="token property">&quot;creator&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;网校事业部-互联网研发部-基础架构部-服务治理组&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;updator&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;网校事业部-互联网研发部-基础架构部-服务治理组&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;business_unit&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;网校&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;学而思网校&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;pinyin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wangxiao&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><table><thead><tr><th>Field</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>code</td> <td>Number</td> <td>状态码：0-成功；其他-失败</td></tr> <tr><td>msg</td> <td>String</td> <td>错误信息，以 <code>code</code> 的值为准</td></tr> <tr><td>data</td> <td>Object</td> <td>响应结果</td></tr> <tr><td>data.department</td> <td>Object</td> <td>部门详情</td></tr> <tr><td>data.department.id</td> <td>Number</td> <td>部门ID</td></tr> <tr><td>data.department.bu_id</td> <td>Number</td> <td>事业部ID</td></tr> <tr><td>data.department.name</td> <td>String</td> <td>部门名称</td></tr> <tr><td>data.department.pinyin</td> <td>String</td> <td>部门名称拼音</td></tr> <tr><td>data.department.remark</td> <td>String</td> <td>备注信息</td></tr> <tr><td>data.department.created_by</td> <td>Number</td> <td>部门创建者工号</td></tr> <tr><td>data.department.updated_by</td> <td>Number</td> <td>部门信息更新者工号</td></tr> <tr><td>data.department.created_at</td> <td>Number</td> <td>创建时间（Unix 时间戳）</td></tr> <tr><td>data.department.updated_at</td> <td>Number</td> <td>更新时间（Unix 时间戳）</td></tr> <tr><td>data.departments.creator</td> <td>Object</td> <td>创建人详情</td></tr> <tr><td>data.departments.creator.uid</td> <td>Number</td> <td>工号</td></tr> <tr><td>data.departments.creator.username</td> <td>String</td> <td>姓名</td></tr> <tr><td>data.departments.creator.user</td> <td>String</td> <td>英文账号</td></tr> <tr><td>data.departments.creator.email</td> <td>String</td> <td>邮箱</td></tr> <tr><td>data.departments.creator.department</td> <td>String</td> <td>所属部门名称</td></tr> <tr><td>data.departments.updator</td> <td>Object</td> <td>信息更新者详情</td></tr> <tr><td>data.departments.updator.uid</td> <td>Number</td> <td>工号</td></tr> <tr><td>data.departments.updator.username</td> <td>String</td> <td>姓名</td></tr> <tr><td>data.departments.updator.user</td> <td>String</td> <td>英文账号</td></tr> <tr><td>data.departments.updator.email</td> <td>String</td> <td>邮箱</td></tr> <tr><td>data.departments.updator.department</td> <td>String</td> <td>所属部门名称</td></tr> <tr><td>data.department.business_unit</td> <td>Object</td> <td>事业部信息</td></tr> <tr><td>data.department.business_unit.id</td> <td>Number</td> <td>事业部ID</td></tr> <tr><td>data.department.business_unit.name</td> <td>String</td> <td>事业部名称</td></tr> <tr><td>data.department.business_unit.remark</td> <td>String</td> <td>事业部备注</td></tr> <tr><td>data.department.business_unit.pinyin</td> <td>String</td> <td>事业部拼音</td></tr></tbody></table> <h2 id="用户详情-user-profile"><a href="#用户详情-user-profile" class="header-anchor">#</a> 用户详情-/user/profile</h2> <p><code>GET /user/profile</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <table><thead><tr><th style="text-align:left;">参数名称</th> <th style="text-align:left;">是否必须</th> <th style="text-align:left;">示例</th> <th style="text-align:left;">备注</th></tr></thead> <tbody><tr><td style="text-align:left;">uid</td> <td style="text-align:left;">是</td> <td style="text-align:left;">2</td> <td style="text-align:left;">工号</td></tr></tbody></table> <p><strong>Request Body:</strong></p> <p><code>无</code></p> <p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;pinyin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another@foo.bar&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18711124774&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;wechatid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;role&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
            <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">1594011385</span><span class="token punctuation">,</span>
            <span class="token property">&quot;updated_at&quot;</span><span class="token operator">:</span> <span class="token number">1594011385</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;permission&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;role&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
            <span class="token property">&quot;read&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;write&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><table><thead><tr><th>Field</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>code</td> <td>Number</td> <td>状态码：0-成功；其他-失败</td></tr> <tr><td>msg</td> <td>String</td> <td>错误信息，以 <code>code</code> 的值为准</td></tr> <tr><td>data</td> <td>Object</td> <td>响应结果</td></tr> <tr><td>data.user</td> <td>Object</td> <td>用户详情</td></tr> <tr><td>data.user.uid</td> <td>Number</td> <td>工号</td></tr> <tr><td>data.user.username</td> <td>String</td> <td>姓名</td></tr> <tr><td>data.user.pinyin</td> <td>String</td> <td>姓名拼音</td></tr> <tr><td>data.user.user</td> <td>String</td> <td>英文账号</td></tr> <tr><td>data.user.email</td> <td>String</td> <td>邮件地址</td></tr> <tr><td>data.user.department</td> <td>String</td> <td>所属部门</td></tr> <tr><td>data.user.phone</td> <td>String</td> <td>电话</td></tr> <tr><td>data.user.wechatid</td> <td>String</td> <td>微信号</td></tr> <tr><td>data.user.role</td> <td>Number</td> <td>权限角色</td></tr> <tr><td>data.user.created_at</td> <td>Number</td> <td>创建时间 （Unix 时间戳）</td></tr> <tr><td>data.user.updated_at</td> <td>Number</td> <td>更新时间（Unix 时间戳）</td></tr> <tr><td>data.permission.role</td> <td>Number</td> <td>用户角色，0-普通用户；9-超管</td></tr> <tr><td>data.permission.read</td> <td>Array</td> <td>拥有只读权限的任务ID</td></tr> <tr><td>data.permission.write</td> <td>Array</td> <td>拥有读写权限的任务ID</td></tr></tbody></table> <h2 id="用户手机号更新-user-updatephone"><a href="#用户手机号更新-user-updatephone" class="header-anchor">#</a> 用户手机号更新-/user/updatephone</h2> <p><code>PUT /user/updatephone</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <p><code>无</code></p> <p><strong>Request Body:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 用户ID，工号取整</span>
    <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;19812345678&quot;</span> <span class="token comment">// 手机号</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;pinyin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another@foo.bar&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18711124774&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;wechatid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;role&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
            <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">1594011385</span><span class="token punctuation">,</span>
            <span class="token property">&quot;updated_at&quot;</span><span class="token operator">:</span> <span class="token number">1595909028</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><table><thead><tr><th>Field</th> <th>Type</th> <th>Comment</th></tr></thead> <tbody><tr><td>code</td> <td>Number</td> <td>状态码：0-成功；其他-失败</td></tr> <tr><td>msg</td> <td>String</td> <td>错误信息，以 <code>code</code> 的值为准</td></tr> <tr><td>data</td> <td>Object</td> <td>响应结果</td></tr> <tr><td>data.user</td> <td>Object</td> <td>用户信息</td></tr> <tr><td>data.user.uid</td> <td>Number</td> <td>工号</td></tr> <tr><td>data.user.username</td> <td>Number</td> <td>姓名</td></tr> <tr><td>data.user.pinyin</td> <td>String</td> <td>姓名拼音</td></tr> <tr><td>data.user.user</td> <td>String</td> <td>英文账号</td></tr> <tr><td>data.user.email</td> <td>String</td> <td>邮箱</td></tr> <tr><td>data.user.department</td> <td>String</td> <td>所属部门</td></tr> <tr><td>data.user.phone</td> <td>String</td> <td>电话号</td></tr> <tr><td>data.user.wechatid</td> <td>String</td> <td>微信号</td></tr> <tr><td>data.user.role</td> <td>Number</td> <td>用户角色</td></tr> <tr><td>data.user.created_at</td> <td>Number</td> <td>创建时间 （Unix 时间戳）</td></tr> <tr><td>data.user.updated_at</td> <td>Number</td> <td>更新时间 （Unix 时间戳）</td></tr></tbody></table> <h2 id="告警任务详情-alarmtask-show"><a href="#告警任务详情-alarmtask-show" class="header-anchor">#</a> 告警任务详情-/alarmtask/show</h2> <p><code>GET /alarmtask/show</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <table><thead><tr><th style="text-align:left;">参数名称</th> <th style="text-align:left;">是否必须</th> <th style="text-align:left;">示例</th> <th style="text-align:left;">备注</th></tr></thead> <tbody><tr><td style="text-align:left;">id</td> <td style="text-align:left;">是</td> <td style="text-align:left;">105</td> <td style="text-align:left;">告警任务ID</td></tr> <tr><td style="text-align:left;">timestamp</td> <td style="text-align:left;">是</td> <td style="text-align:left;">1584671913</td> <td style="text-align:left;">鉴权时间戳</td></tr> <tr><td style="text-align:left;">sign</td> <td style="text-align:left;">是</td> <td style="text-align:left;">6e673c6de3a0ed4a9257d4ea4d907fea</td> <td style="text-align:left;">鉴权签名</td></tr></tbody></table> <p><strong>Request Body:</strong></p> <p><code>无</code></p> <p><strong>Response:</strong></p> <details class="custom-block details"><summary>点击查看响应参数</summary> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;task&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 任务详情</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">266</span><span class="token punctuation">,</span> <span class="token comment">// 任务ID</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;完整示例&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任务名称</span>
            <span class="token property">&quot;pinyin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rizhizhongxin&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任务名称拼音</span>
            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;d3213fe78d9f81f448141495a274e0c700ad1c25&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任务token，调用告警接口使用</span>
            <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;637ed6563aa17197438cf8cc173f910a7f00bcc4&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任务secret，调用OpenAPI使用</span>
            <span class="token property">&quot;department_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 部门ID</span>
            <span class="token property">&quot;flag_save_db&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 是否入库：1-入库；0-不入库</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 状态：1-运行中；0-已停止；2-已暂停</span>
            <span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 创建人</span>
            <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">1595338356</span><span class="token punctuation">,</span> <span class="token comment">// 创建时间，时间戳（单位秒）</span>
            <span class="token property">&quot;updated_at&quot;</span><span class="token operator">:</span> <span class="token number">1595996005</span><span class="token punctuation">,</span> <span class="token comment">// 更新时间，时间戳（单位秒）</span>
            <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 部门信息</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 部门ID</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span> <span class="token comment">// 部门名称</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;creator&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 创建人信息</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// UID</span>
                <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 姓名</span>
                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 邮箱</span>
                <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span> <span class="token comment">// 部门</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;permission&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 权限信息</span>
                <span class="token property">&quot;rw&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 读写权限用户列表</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">&quot;ro&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 只读权限用户列表</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 通知人配置</span>
                <span class="token property">&quot;alarmgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 告警组配置</span>
                <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 通知渠道配置</span>
                    <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 短信渠道</span>
                        <span class="token punctuation">{</span>
                            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 邮件渠道</span>
                        <span class="token punctuation">{</span>
                            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 电话渠道</span>
                        <span class="token punctuation">{</span>
                            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 钉钉工作通知渠道</span>
                        <span class="token punctuation">{</span>
                            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 钉钉机器人（钉钉群）渠道</span>
                        <span class="token punctuation">{</span>
                            <span class="token comment">// 机器人的webhook中的token参数</span>
                            <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span>\
                            <span class="token comment">// 点击机器人加签生产的secret</span>
                            <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 知音楼机器人（知音楼群）渠道</span>
                        <span class="token punctuation">{</span>
                            <span class="token comment">// 机器人的webhook中的token参数</span>
                            <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span>
                            <span class="token comment">// 机器人的secret</span>
                            <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 知音楼工作通知渠道</span>
                        <span class="token punctuation">{</span>
                            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// webhook渠道</span>
                        <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://foo.domain.com/callback&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;dispatch&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 分级告警配置</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 分级条件</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 规则</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctn.key&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 字段</span>
                                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eq&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 操作符</span>
                                        <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span> <span class="token comment">// 阈值</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctn.key2&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 分级告警的通知人配置</span>
                            <span class="token property">&quot;alarmgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eHhpemFUVTA4b1l3255436W9XNlMvZjVuREVDTmMzZmRGdzBsNTN2UHNndG9GZVJKL1FUNllyWkkzK2x3Nw&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;333332465465467756&quot;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 分级告警模式：1-懒惰模式；2-非懒惰模式</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;workflow&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 工作流配置</span>
                <span class="token property">&quot;reminds&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 工作流提醒配置</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 时间间隔：10分钟</span>
                        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 工作流状态：0-待处理；1-处理中</span>
                        <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;once&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 是否周期循环：once-不循环；cycle-循环</span>
                        <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 复用通知人</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cycle&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 不复用通知人</span>
                        <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 自定义的提醒通知人</span>
                            <span class="token property">&quot;alarmgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 是否开启工作流</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;filter&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警过滤</span>
                <span class="token property">&quot;not_match&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 不匹配操作：1-直接入库；0-丢弃告警</span>
                <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模式：1-白名单；2-黑名单</span>
                <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 过滤条件</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 规则</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctn.cpu_used&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token comment">// 告警级别：0-通知；1—警告；2-错误；3-紧急；9-继承</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 是否开启告警过滤</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;upgrade&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警升级</span>
                <span class="token property">&quot;strategies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 升级策略配置</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 统计时间间隔</span>
                        <span class="token property">&quot;count&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 统计条数</span>
                        <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 告警级别：0-通知；1—警告；2-错误；3-紧急；</span>
                        <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 是否复用告警通知人：1-复用；0-不复用</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;count&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 不复用时自定义的通知人</span>
                            <span class="token property">&quot;alarmgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token punctuation">{</span>
                                        <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span>
                                        <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span>
                                    <span class="token punctuation">}</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 是否开启告警升级</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;compress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警收敛配置</span>
                <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 收敛条件</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 收敛规则</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctn.cpu_used&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">&quot;method&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 收敛方式：1-条件收敛；3-内容收敛；4-全量收敛</span>
                <span class="token property">&quot;strategy&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 收敛策略：1-周期收敛；2-延迟收敛；3-周期次数收敛；4-次数周期收敛；5-次数收敛</span>
                <span class="token property">&quot;strategy_cycle&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 收敛周期</span>
                <span class="token property">&quot;strategy_count&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token comment">// 收敛次数</span>
                <span class="token property">&quot;not_match&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 未收敛操作：1-入库；0-直接发送</span>
                <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 是否开启告警收敛</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;recovery&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警恢复</span>
                <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 恢复条件</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctn.cpu_used&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 恢复方式：1-条件恢复</span>
                <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 是否开启恢复</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警模板配置</span>
                <span class="token property">&quot;template_id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 模板ID</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 0-系统默认；1-预定义；2-自定义</span>
                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 模板详情</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 模板ID</span>
                    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony测试&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板名称</span>
                    <span class="token property">&quot;pinyin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananonyceshi&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板拼音</span>
                    <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板备注</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 模板详情</span>
                        <span class="token property">&quot;compressed&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警收敛时场景</span>
                            <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 短信渠道</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：0-系统默认；1-预定义；2-自定义</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板格式：1-文本；2-Markdown；3-HTML</span>
                                <span class="token comment">// 模板内容</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个【{task.compress_method}-{task.compress_type}收敛-命中】告警\n\n任务：{task.name}发生了告警\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个【{task.compress_method}-{task.compress_type}收敛-命中】告警\n\n任务：{task.name}发生了告警\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个【{task.compress_method}-{task.compress_type}收敛-命中】告警\n\n任务：{task.name}发生了告警\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个【{task.compress_method}-{task.compress_type}收敛-命中】告警\n\n任务：{task.name}发生了告警\n级别：{history.level}\n内容：{history.ctn}\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个【{task.compress_method}-{task.compress_type}收敛-命中】告警\n\n任务：{task.name}发生了告警\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个【{task.compress_method}-{task.compress_type}收敛-命中】告警\n\n任务：{task.name}发生了告警\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;not_compress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警未收敛场景</span>
                            <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个新告警\n    \n任务：{task.name}发生了告警\n级别：{history.level}\n内容：{history.ctn}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个新告警\n    \n任务：{task.name}发生了告警\n级别：{history.level}\n内容：{history.ctn}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个新告警\n    \n任务：{task.name}发生了告警\n级别：{history.level}\n内容：{history.ctn}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个新告警\n    \n任务：{task.name}发生了告警\n级别：{history.level}\n内容：{history.ctn}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个新告警\n    \n任务：{task.name}发生了告警\n级别：{history.level}\n内容：{history.ctn}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个新告警\n    \n任务：{task.name}发生了告警\n级别：{history.level}\n内容：{history.ctn}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个新告警\n    \n任务：{task.name}发生了告警\n级别：{history.level}\n内容：{history.ctn}&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;upgrade&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警升级</span>
                            <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个告警升级\n\n任务：{task.name}触发了{context.rule.interval}分钟{context.rule.count}条的告警升级，告警次数为：{context.zcount}\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个告警升级\n\n任务：{task.name}触发了{context.rule.interval}分钟{context.rule.count}条的告警升级，告警次数为：{context.zcount}\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个告警升级\n\n任务：{task.name}触发了{context.rule.interval}分钟{context.rule.count}条的告警升级，告警次数为：{context.zcount}\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个告警升级\n\n任务：{task.name}触发了{context.rule.interval}分钟{context.rule.count}条的告警升级，告警次数为：{context.zcount}\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个告警升级\n\n任务：{task.name}触发了{context.rule.interval}分钟{context.rule.count}条的告警升级，告警次数为：{context.zcount}\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个告警升级\n\n任务：{task.name}触发了{context.rule.interval}分钟{context.rule.count}条的告警升级，告警次数为：{context.zcount}\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个告警升级\n\n任务：{task.name}触发了{context.rule.interval}分钟{context.rule.count}条的告警升级，告警次数为：{context.zcount}\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;recovery&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警恢复</span>
                            <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个告警恢复\n\n任务：{task.name}触发了告警恢复\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个告警恢复\n\n任务：{task.name}触发了告警恢复\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个告警恢复\n\n任务：{task.name}触发了告警恢复\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个告警恢复\n\n任务：{task.name}触发了告警恢复\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个告警恢复\n\n任务：{task.name}触发了告警恢复\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个告警恢复\n\n任务：{task.name}触发了告警恢复\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{common.env}您有一个告警恢复\n\n任务：{task.name}触发了告警恢复\n级别：{history.level}\n内容：{history.ctn},\n主机名：{history.ctn.hostname}&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 创建人UID</span>
                    <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">1585452020</span><span class="token punctuation">,</span> <span class="token comment">// 创建时间，时间戳</span>
                    <span class="token property">&quot;updated_at&quot;</span><span class="token operator">:</span> <span class="token number">1585452020</span><span class="token punctuation">,</span> <span class="token comment">// 更新时间，时间戳</span>
                    <span class="token property">&quot;permission&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 权限信息，在权限列表内才可以对模板进行编辑</span>
                        <span class="token punctuation">{</span>
                            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                            <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;creator&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 创建人信息</span>
                        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;task_tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 告警任务标签</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 标签ID</span>
                    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;标签1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 标签名称</span>
                    <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 标签备注</span>
                    <span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 创建人</span>
                    <span class="token property">&quot;creator&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 创建人信息</span>
                        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ethananony@aliyun.com&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br><span class="line-number">339</span><br><span class="line-number">340</span><br><span class="line-number">341</span><br><span class="line-number">342</span><br><span class="line-number">343</span><br><span class="line-number">344</span><br><span class="line-number">345</span><br><span class="line-number">346</span><br><span class="line-number">347</span><br><span class="line-number">348</span><br><span class="line-number">349</span><br><span class="line-number">350</span><br><span class="line-number">351</span><br><span class="line-number">352</span><br><span class="line-number">353</span><br><span class="line-number">354</span><br><span class="line-number">355</span><br><span class="line-number">356</span><br><span class="line-number">357</span><br><span class="line-number">358</span><br><span class="line-number">359</span><br><span class="line-number">360</span><br><span class="line-number">361</span><br><span class="line-number">362</span><br><span class="line-number">363</span><br><span class="line-number">364</span><br><span class="line-number">365</span><br><span class="line-number">366</span><br><span class="line-number">367</span><br><span class="line-number">368</span><br><span class="line-number">369</span><br><span class="line-number">370</span><br><span class="line-number">371</span><br><span class="line-number">372</span><br><span class="line-number">373</span><br><span class="line-number">374</span><br><span class="line-number">375</span><br><span class="line-number">376</span><br><span class="line-number">377</span><br><span class="line-number">378</span><br><span class="line-number">379</span><br><span class="line-number">380</span><br><span class="line-number">381</span><br><span class="line-number">382</span><br><span class="line-number">383</span><br><span class="line-number">384</span><br><span class="line-number">385</span><br><span class="line-number">386</span><br><span class="line-number">387</span><br><span class="line-number">388</span><br><span class="line-number">389</span><br><span class="line-number">390</span><br><span class="line-number">391</span><br><span class="line-number">392</span><br><span class="line-number">393</span><br><span class="line-number">394</span><br><span class="line-number">395</span><br><span class="line-number">396</span><br><span class="line-number">397</span><br><span class="line-number">398</span><br><span class="line-number">399</span><br><span class="line-number">400</span><br><span class="line-number">401</span><br><span class="line-number">402</span><br><span class="line-number">403</span><br><span class="line-number">404</span><br><span class="line-number">405</span><br><span class="line-number">406</span><br><span class="line-number">407</span><br><span class="line-number">408</span><br><span class="line-number">409</span><br><span class="line-number">410</span><br><span class="line-number">411</span><br><span class="line-number">412</span><br><span class="line-number">413</span><br><span class="line-number">414</span><br><span class="line-number">415</span><br><span class="line-number">416</span><br><span class="line-number">417</span><br><span class="line-number">418</span><br><span class="line-number">419</span><br><span class="line-number">420</span><br><span class="line-number">421</span><br><span class="line-number">422</span><br><span class="line-number">423</span><br><span class="line-number">424</span><br><span class="line-number">425</span><br><span class="line-number">426</span><br><span class="line-number">427</span><br><span class="line-number">428</span><br><span class="line-number">429</span><br><span class="line-number">430</span><br><span class="line-number">431</span><br><span class="line-number">432</span><br><span class="line-number">433</span><br><span class="line-number">434</span><br><span class="line-number">435</span><br><span class="line-number">436</span><br><span class="line-number">437</span><br><span class="line-number">438</span><br><span class="line-number">439</span><br><span class="line-number">440</span><br><span class="line-number">441</span><br><span class="line-number">442</span><br><span class="line-number">443</span><br><span class="line-number">444</span><br><span class="line-number">445</span><br><span class="line-number">446</span><br><span class="line-number">447</span><br><span class="line-number">448</span><br><span class="line-number">449</span><br><span class="line-number">450</span><br><span class="line-number">451</span><br><span class="line-number">452</span><br><span class="line-number">453</span><br><span class="line-number">454</span><br><span class="line-number">455</span><br><span class="line-number">456</span><br><span class="line-number">457</span><br><span class="line-number">458</span><br><span class="line-number">459</span><br><span class="line-number">460</span><br><span class="line-number">461</span><br><span class="line-number">462</span><br><span class="line-number">463</span><br><span class="line-number">464</span><br><span class="line-number">465</span><br><span class="line-number">466</span><br><span class="line-number">467</span><br><span class="line-number">468</span><br><span class="line-number">469</span><br><span class="line-number">470</span><br><span class="line-number">471</span><br><span class="line-number">472</span><br><span class="line-number">473</span><br><span class="line-number">474</span><br><span class="line-number">475</span><br><span class="line-number">476</span><br><span class="line-number">477</span><br><span class="line-number">478</span><br><span class="line-number">479</span><br><span class="line-number">480</span><br><span class="line-number">481</span><br><span class="line-number">482</span><br><span class="line-number">483</span><br><span class="line-number">484</span><br><span class="line-number">485</span><br><span class="line-number">486</span><br><span class="line-number">487</span><br><span class="line-number">488</span><br><span class="line-number">489</span><br><span class="line-number">490</span><br><span class="line-number">491</span><br><span class="line-number">492</span><br><span class="line-number">493</span><br><span class="line-number">494</span><br><span class="line-number">495</span><br><span class="line-number">496</span><br><span class="line-number">497</span><br><span class="line-number">498</span><br><span class="line-number">499</span><br><span class="line-number">500</span><br><span class="line-number">501</span><br><span class="line-number">502</span><br><span class="line-number">503</span><br><span class="line-number">504</span><br><span class="line-number">505</span><br><span class="line-number">506</span><br><span class="line-number">507</span><br><span class="line-number">508</span><br><span class="line-number">509</span><br><span class="line-number">510</span><br><span class="line-number">511</span><br><span class="line-number">512</span><br><span class="line-number">513</span><br><span class="line-number">514</span><br><span class="line-number">515</span><br><span class="line-number">516</span><br><span class="line-number">517</span><br><span class="line-number">518</span><br><span class="line-number">519</span><br><span class="line-number">520</span><br><span class="line-number">521</span><br><span class="line-number">522</span><br><span class="line-number">523</span><br><span class="line-number">524</span><br><span class="line-number">525</span><br><span class="line-number">526</span><br><span class="line-number">527</span><br><span class="line-number">528</span><br><span class="line-number">529</span><br><span class="line-number">530</span><br><span class="line-number">531</span><br><span class="line-number">532</span><br><span class="line-number">533</span><br><span class="line-number">534</span><br><span class="line-number">535</span><br><span class="line-number">536</span><br><span class="line-number">537</span><br><span class="line-number">538</span><br><span class="line-number">539</span><br><span class="line-number">540</span><br><span class="line-number">541</span><br><span class="line-number">542</span><br><span class="line-number">543</span><br><span class="line-number">544</span><br><span class="line-number">545</span><br></div></div></details> <h2 id="告警任务创建-alarmtask-store"><a href="#告警任务创建-alarmtask-store" class="header-anchor">#</a> 告警任务创建-/alarmtask/store</h2> <p><code>POST /alarmtask/store</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <p><code>无</code></p> <p><strong>Request Body:</strong></p> <details class="custom-block details"><summary>点击查看请求参数</summary> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 创建人uid，工号不带0</span>
    <span class="token property">&quot;task_tags&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span>， <span class="token comment">// 关联的标签ID 非必填</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;日志中心&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 告警任务名称，必填，字符串，100字以内</span>
    <span class="token property">&quot;department_id&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">// 部门ID，必填，数字</span>
    <span class="token property">&quot;flag_save_db&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 是否入库存储，必填，枚举，0-不入库；1-入库</span>
    <span class="token property">&quot;permission&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 权限列表，非必填</span>
        <span class="token property">&quot;rw&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">999999</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 读写权限用户列表，非必填，用户ID列表，用户ID为工号不带0</span>
        <span class="token property">&quot;ro&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">// 只读权限用户列表，非必填（读写权限包含读，没必要重复添加，文档仅示例数据格式</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警通知人，必填</span>
        <span class="token property">&quot;alarmgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 告警通知组ID，要求告警通知组与下方channels通知渠道至少填一个</span>
        <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警通知渠道，与告警通知组至少填一个</span>
            <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 钉钉机器人，可以填写多个，单个群最多可以添加6个，建议填写6个</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span> <span class="token comment">// webhook中的access_token参数的值，必填，字符串</span>
                    <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span> <span class="token comment">// 机器人安全配置secret，必填，建议填写，字符串</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 钉钉工作通知配置，用户ID列表，非必填</span>
            <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// YACH机器人，可以填写多个，单个群最多可以添加6个，建议填写6个</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span> <span class="token comment">// webhook中的access_token参数的值，必填，字符串</span>
                    <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span> <span class="token comment">// 机器人安全配置secret，必填，建议填写，字符串</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// YACH工作通知配置，用户ID列表，非必填</span>
            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 邮件通知配置，用户ID列表，非必填</span>
            <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 短信通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
            <span class="token property">&quot;wechat&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 微信通知配置，用户ID列表，非必填</span>
            <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 电话通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
            <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">,</span> <span class="token comment">// Webhook通知，必须为有效的URL地址，非必填</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;dispatch&quot;</span><span class="token operator">:</span>  <span class="token punctuation">[</span> <span class="token comment">// 分级告警配置，选填</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sd&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eq&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ddd&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sdfd&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 同通知人配置</span>
                    <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token number">1</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eHhpemFUVTA4b1l3255436W9XNlMvZjVuREVDTmMzZmRGdzBsNTN2UHNndG9GZVJKL1FUNllyWkkzK2x3Nw&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;333332465465467756&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token number">1</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;workflow&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警工作流配置，非必填</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启工作流配置，非必填，boolean类型，默认false</span>
        <span class="token property">&quot;reminds&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 工作流提醒配置，非必填</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;once&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 提醒模式，如果配置了提醒则必填，否则非必填，once-单次提醒；cycle-周期提醒</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 提醒的状态，如果配置了提醒则必填，参见文档枚举类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 提醒时间，如果配置了提醒则必填，大于0的整数</span>
                <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 是否复用告警通知人，1-复用；0-不复用，如果配置了提醒则必填</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cycle&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
                <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 提醒通知人，如果选择了不复用，则必填，否则不必填</span>
                    <span class="token property">&quot;alarmgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 告警通知组ID，要求告警通知组与下方channels通知渠道至少填一个</span>
                    <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警通知渠道，与告警通知组至少填一个</span>
                        <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 钉钉机器人，可以填写多个，单个群最多可以添加6个，建议填写6个</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span> <span class="token comment">// webhook中的access_token参数的值，必填，字符串</span>
                                <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span> <span class="token comment">// 机器人安全配置secret，非必填，建议填写，字符串</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 钉钉工作通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 邮件通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 短信通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
                        <span class="token property">&quot;wechat&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 微信通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">// 电话通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filter&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警过滤配置，非必填</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启，非必填，boolean类型，默认false</span>
        <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 过滤模式：1-白名单；2-黑名单，开启了告警过滤必填</span>
        <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 过滤条件，至少配置一个条件</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 告警级别，0、1、2、3、9四种值可选，参考枚举数据类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctn.cpu_used&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 字段名称</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 条件操作符，参考枚举数据类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                        <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span> <span class="token comment">// 阈值</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>   
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;not_match&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 未命中过滤：1-直接入库；0-丢弃告警</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;upgrade&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警升级配置，非必填</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启告警升级配置</span>
        <span class="token property">&quot;strategies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 告警升级策略，至少填写一个</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 几分钟内，单位：分钟</span>
                <span class="token property">&quot;count&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 达到多少条，单位：条</span>
                <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 告警级别：升级的告警级别</span>
                <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 是否复用告警接收人</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;count&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 是否复用告警接收人</span>
                <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;alarmgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 告警通知组ID，要求告警通知组与下方channels通知渠道至少填一个</span>
                    <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警通知渠道，与告警通知组至少填一个</span>
                        <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 钉钉机器人，可以填写多个，单个群最多可以添加6个，建议填写6个</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span> <span class="token comment">// webhook中的access_token参数的值，必填，字符串</span>
                                <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span> <span class="token comment">// 机器人安全配置secret，非必填，建议填写，字符串</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 钉钉工作通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 邮件通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 短信通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
                        <span class="token property">&quot;wechat&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 微信通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">// 电话通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;compress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 选填，不填写不开启告警收敛</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;method&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 收敛指标（收敛方式）：1-条件收敛；2-智能收敛；3-全量收敛</span>
        <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctn.cpu_used&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 字段名称</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 条件操作符，参考枚举数据类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                        <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span> <span class="token comment">// 阈值</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span> 
            <span class="token punctuation">}</span>     
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;strategy&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 收敛策略：1-周期收敛；2-延迟收敛；3-周期次数收敛</span>
        <span class="token property">&quot;strategy_cycle&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 周期时间，单位：min</span>
        <span class="token property">&quot;strategy_count&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token comment">// 周期条数：单位：条</span>
        <span class="token property">&quot;not_match&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 1-直接发送；0-丢弃告警</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;recovery&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警自动恢复，非必填</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 过滤方式：1-条件恢复；2-延迟恢复</span>
        <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 条件恢复才有该字段</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctn.cpu_used&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 字段名称</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 条件操作符，参考枚举数据类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                        <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span> <span class="token comment">// 阈值</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>    
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;delay_interval&quot;</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token comment">// 延迟恢复时间，延迟恢复才有</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 选填，不填写为系统默认模板</span>
        <span class="token property">&quot;template_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@integer(1, 999999)&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;udf&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 仅template_id才有该数据，User Defined - 自定义</span>
            <span class="token property">&quot;compressed&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;wechat&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;not_compress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 同上</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;upgrade&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 同上</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;recovery&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 同上</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br></div></div></details> <p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;task&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another测试2212&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;290b58d01dec90feea8bf7e7dbd053ea819690f4&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;59f431d917078f9facdce98f2f061f6874611d76&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;department_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">1595924880</span><span class="token punctuation">,</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">403</span><span class="token punctuation">,</span>
            <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;creator&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another@foo.bar&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;nullPhoneUsers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 电话或短信渠道中没有设置电话号的用户</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another@foo.bar&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="告警任务更新-alarmtask-update"><a href="#告警任务更新-alarmtask-update" class="header-anchor">#</a> 告警任务更新-/alarmtask/update</h2> <p><code>PUT /alarmtask/update</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <p><code>无</code></p> <p><strong>Request Body:</strong></p> <details class="custom-block details"><summary>点击查看请求参数</summary> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token comment">// 告警任务ID</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1584671913&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 用于鉴权的时间戳</span>
    <span class="token property">&quot;sign&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6e673c6de3a0ed4a9257d4ea4d907fea&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 用于鉴权的签名</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;日志中心&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 告警任务名称，必填，字符串，100字以内</span>
    <span class="token property">&quot;department_id&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">// 部门ID，必填，数字</span>
    <span class="token property">&quot;flag_save_db&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 是否入库存储，必填，枚举，0-不入库；1-入库</span>
    <span class="token property">&quot;permission&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 权限列表，非必填</span>
        <span class="token property">&quot;rw&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">999999</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 读写权限用户列表，非必填，用户ID列表，用户ID为工号不带0</span>
        <span class="token property">&quot;ro&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">// 只读权限用户列表，非必填（读写权限包含读，没必要重复添加，文档仅示例数据格式</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警通知人，必填</span>
        <span class="token property">&quot;alarmgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 告警通知组ID，要求告警通知组与下方channels通知渠道至少填一个</span>
        <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警通知渠道，与告警通知组至少填一个</span>
            <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 钉钉机器人，可以填写多个，单个群最多可以添加6个，建议填写6个</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span> <span class="token comment">// webhook中的access_token参数的值，必填，字符串</span>
                    <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span> <span class="token comment">// 机器人安全配置secret，必填，建议填写，字符串</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 钉钉工作通知配置，用户ID列表，非必填</span>
            <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// YACH机器人，可以填写多个，单个群最多可以添加6个，建议填写6个</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span> <span class="token comment">// webhook中的access_token参数的值，必填，字符串</span>
                    <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span> <span class="token comment">// 机器人安全配置secret，必填，建议填写，字符串</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// YACH工作通知配置，用户ID列表，非必填</span>
            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 邮件通知配置，用户ID列表，非必填</span>
            <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 短信通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
            <span class="token property">&quot;wechat&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 微信通知配置，用户ID列表，非必填</span>
            <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 电话通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
            <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">,</span> <span class="token comment">// Webhook通知，必须为有效的URL地址，非必填</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;dispatch&quot;</span><span class="token operator">:</span>  <span class="token punctuation">[</span> <span class="token comment">// 分级告警配置，选填</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sd&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eq&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ddd&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sdfd&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 同通知人配置</span>
                    <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token number">1</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eHhpemFUVTA4b1l3255436W9XNlMvZjVuREVDTmMzZmRGdzBsNTN2UHNndG9GZVJKL1FUNllyWkkzK2x3Nw&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;333332465465467756&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token number">1</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;workflow&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警工作流配置，非必填</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启工作流配置，非必填，boolean类型，默认false</span>
        <span class="token property">&quot;reminds&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 工作流提醒配置，非必填</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;once&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 提醒模式，如果配置了提醒则必填，否则非必填，once-单次提醒；cycle-周期提醒</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 提醒的状态，如果配置了提醒则必填，参见文档枚举类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 提醒时间，如果配置了提醒则必填，大于0的整数</span>
                <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 是否复用告警通知人，1-复用；0-不复用，如果配置了提醒则必填</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cycle&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
                <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 提醒通知人，如果选择了不复用，则必填，否则不必填</span>
                    <span class="token property">&quot;alarmgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 告警通知组ID，要求告警通知组与下方channels通知渠道至少填一个</span>
                    <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警通知渠道，与告警通知组至少填一个</span>
                        <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 钉钉机器人，可以填写多个，单个群最多可以添加6个，建议填写6个</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span> <span class="token comment">// webhook中的access_token参数的值，必填，字符串</span>
                                <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span> <span class="token comment">// 机器人安全配置secret，非必填，建议填写，字符串</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 钉钉工作通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 邮件通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 短信通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
                        <span class="token property">&quot;wechat&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 微信通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">// 电话通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filter&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警过滤配置，非必填</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启，非必填，boolean类型，默认false</span>
        <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 过滤模式：1-白名单；2-黑名单，开启了告警过滤必填</span>
        <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 过滤条件，至少配置一个条件</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 告警级别，0、1、2、3、9四种值可选，参考枚举数据类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctn.cpu_used&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 字段名称</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 条件操作符，参考枚举数据类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                        <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span> <span class="token comment">// 阈值</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>   
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;not_match&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 未命中过滤：1-直接入库；0-丢弃告警</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;upgrade&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警升级配置，非必填</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启告警升级配置</span>
        <span class="token property">&quot;strategies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 告警升级策略，至少填写一个</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 几分钟内，单位：分钟</span>
                <span class="token property">&quot;count&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 达到多少条，单位：条</span>
                <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 告警级别：升级的告警级别</span>
                <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 是否复用告警接收人</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;count&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 是否复用告警接收人</span>
                <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;alarmgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 告警通知组ID，要求告警通知组与下方channels通知渠道至少填一个</span>
                    <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警通知渠道，与告警通知组至少填一个</span>
                        <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 钉钉机器人，可以填写多个，单个群最多可以添加6个，建议填写6个</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span> <span class="token comment">// webhook中的access_token参数的值，必填，字符串</span>
                                <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span> <span class="token comment">// 机器人安全配置secret，非必填，建议填写，字符串</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 钉钉工作通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 邮件通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 短信通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
                        <span class="token property">&quot;wechat&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 微信通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">// 电话通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;compress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 选填，不填写不开启告警收敛</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;method&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 收敛指标（收敛方式）：1-条件收敛；2-智能收敛；3-全量收敛</span>
        <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctn.cpu_used&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 字段名称</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 条件操作符，参考枚举数据类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                        <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span> <span class="token comment">// 阈值</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span> 
            <span class="token punctuation">}</span>     
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;strategy&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 收敛策略：1-周期收敛；2-延迟收敛；3-周期次数收敛</span>
        <span class="token property">&quot;strategy_cycle&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 周期时间，单位：min</span>
        <span class="token property">&quot;strategy_count&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token comment">// 周期条数：单位：条</span>
        <span class="token property">&quot;not_match&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 1-直接发送；0-丢弃告警</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;recovery&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警自动恢复，非必填</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 过滤方式：1-条件恢复；2-延迟恢复</span>
        <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 条件恢复才有该字段</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctn.cpu_used&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 字段名称</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 条件操作符，参考枚举数据类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                        <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span> <span class="token comment">// 阈值</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>    
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;delay_interval&quot;</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token comment">// 延迟恢复时间，延迟恢复才有</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 选填，不填写为系统默认模板</span>
        <span class="token property">&quot;template_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@integer(1, 999999)&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;udf&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 仅template_id才有该数据，User Defined - 自定义</span>
            <span class="token property">&quot;compressed&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;wechat&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;not_compress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 同上</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;upgrade&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 同上</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;recovery&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 同上</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br></div></div></details> <p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;task&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">402</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another测试2212&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a118971afebf95fee84d2599f0e521b8f24f3885&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7d00c3d896118bcb3ee390b2426aab7511872362&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;department_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">1595923897</span><span class="token punctuation">,</span>
            <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;creator&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another@foo.bar&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;nullPhoneUsers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="告警任务部分更新-alarmtask-updatefields"><a href="#告警任务部分更新-alarmtask-updatefields" class="header-anchor">#</a> 告警任务部分更新-/alarmtask/updatefields</h2> <p><code>PUT /alarmtask/updatefields</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <p><code>无</code></p> <p><strong>Request Body:</strong></p> <details class="custom-block details"><summary>点击查看请求参数</summary> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token comment">// 只更新过滤的字段，id, timestamp, sign, filter_fields必填，其他字段根据filter_fileds的条件要求是否必填</span>
    <span class="token property">&quot;filter_fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;template.udf.compressed&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;receiver.channels.dingworker&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token comment">// 告警任务ID</span>
	<span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1584671913&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 用于鉴权的时间戳</span>
	<span class="token property">&quot;sign&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6e673c6de3a0ed4a9257d4ea4d907fea&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 用于鉴权的签名</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;日志中心&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 告警任务名称，根据filter_fields要求，字符串，100字以内</span>
    <span class="token property">&quot;department_id&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">// 部门ID，根据filter_fields要求，数字</span>
    <span class="token property">&quot;flag_save_db&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 是否入库存储，根据filter_fields要求，枚举，0-不入库；1-入库</span>
    <span class="token property">&quot;permission&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 权限列表，非必填</span>
        <span class="token property">&quot;rw&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">999999</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 读写权限用户列表，非必填，用户ID列表，用户ID为工号不带0</span>
        <span class="token property">&quot;ro&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">// 只读权限用户列表，非必填（读写权限包含读，没必要重复添加，文档仅示例数据格式</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警通知人，必填</span>
        <span class="token property">&quot;alarmgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 告警通知组ID，要求告警通知组与下方channels通知渠道至少填一个</span>
        <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警通知渠道，与告警通知组至少填一个</span>
            <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 钉钉机器人，可以填写多个，单个群最多可以添加6个，建议填写6个</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span> <span class="token comment">// webhook中的access_token参数的值，必填，字符串</span>
                    <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span> <span class="token comment">// 机器人安全配置secret，必填，建议填写，字符串</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 钉钉工作通知配置，用户ID列表，非必填</span>
            <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// YACH机器人，可以填写多个，单个群最多可以添加6个，建议填写6个</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span> <span class="token comment">// webhook中的access_token参数的值，必填，字符串</span>
                    <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span> <span class="token comment">// 机器人安全配置secret，必填，建议填写，字符串</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// YACH工作通知配置，用户ID列表，非必填</span>
            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 邮件通知配置，用户ID列表，非必填</span>
            <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 短信通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
            <span class="token property">&quot;wechat&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 微信通知配置，用户ID列表，非必填</span>
            <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 电话通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
            <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">,</span> <span class="token comment">// Webhook通知，必须为有效的URL地址，非必填</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;dispatch&quot;</span><span class="token operator">:</span>  <span class="token punctuation">[</span> <span class="token comment">// 分级告警配置，选填</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sd&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eq&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ddd&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sdfd&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 同通知人配置</span>
                    <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token number">1</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eHhpemFUVTA4b1l3255436W9XNlMvZjVuREVDTmMzZmRGdzBsNTN2UHNndG9GZVJKL1FUNllyWkkzK2x3Nw&quot;</span><span class="token punctuation">,</span>
                                <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;333332465465467756&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token number">1</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;workflow&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警工作流配置，非必填</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启工作流配置，非必填，boolean类型，默认false</span>
        <span class="token property">&quot;reminds&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 工作流提醒配置，非必填</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;once&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 提醒模式，如果配置了提醒则必填，否则非必填，once-单次提醒；cycle-周期提醒</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 提醒的状态，如果配置了提醒则必填，参见文档枚举类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 提醒时间，如果配置了提醒则必填，大于0的整数</span>
                <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 是否复用告警通知人，1-复用；0-不复用，如果配置了提醒则必填</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cycle&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
                <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 提醒通知人，如果选择了不复用，则必填，否则不必填</span>
                    <span class="token property">&quot;alarmgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 告警通知组ID，要求告警通知组与下方channels通知渠道至少填一个</span>
                    <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警通知渠道，与告警通知组至少填一个</span>
                        <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 钉钉机器人，可以填写多个，单个群最多可以添加6个，建议填写6个</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span> <span class="token comment">// webhook中的access_token参数的值，必填，字符串</span>
                                <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span> <span class="token comment">// 机器人安全配置secret，非必填，建议填写，字符串</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 钉钉工作通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 邮件通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 短信通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
                        <span class="token property">&quot;wechat&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 微信通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">// 电话通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filter&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警过滤配置，非必填</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启，非必填，boolean类型，默认false</span>
        <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 过滤模式：1-白名单；2-黑名单，开启了告警过滤必填</span>
        <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 过滤条件，至少配置一个条件</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 告警级别，0、1、2、3、9四种值可选，参考枚举数据类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctn.cpu_used&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 字段名称</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 条件操作符，参考枚举数据类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                        <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span> <span class="token comment">// 阈值</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>   
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;not_match&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 未命中过滤：1-直接入库；0-丢弃告警</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;upgrade&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警升级配置，非必填</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启告警升级配置</span>
        <span class="token property">&quot;strategies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 告警升级策略，至少填写一个</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 几分钟内，单位：分钟</span>
                <span class="token property">&quot;count&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 达到多少条，单位：条</span>
                <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 告警级别：升级的告警级别</span>
                <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 是否复用告警接收人</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;count&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token property">&quot;reuse_receiver&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 是否复用告警接收人</span>
                <span class="token property">&quot;receiver&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;alarmgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 告警通知组ID，要求告警通知组与下方channels通知渠道至少填一个</span>
                    <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警通知渠道，与告警通知组至少填一个</span>
                        <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 钉钉机器人，可以填写多个，单个群最多可以添加6个，建议填写6个</span>
                            <span class="token punctuation">{</span>
                                <span class="token property">&quot;webhook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1dadee4018526bb63b21d84d6d4e42c96c1e1c4ef218540fdcebf499daef3462&quot;</span><span class="token punctuation">,</span> <span class="token comment">// webhook中的access_token参数的值，必填，字符串</span>
                                <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SECf5a89f004d59a1d3acc916ed745fc8efaf0ee889d8f09709cba21b07174a8a7b&quot;</span> <span class="token comment">// 机器人安全配置secret，非必填，建议填写，字符串</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 钉钉工作通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 邮件通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 短信通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
                        <span class="token property">&quot;wechat&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 微信通知配置，用户ID列表，非必填</span>
                        <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">// 电话通知配置，用户ID列表，非必填，必须在哮天犬配置手机号才可使用</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;compress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 选填，不填写不开启告警收敛</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;method&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 收敛指标（收敛方式）：1-条件收敛；2-智能收敛；3-全量收敛</span>
        <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctn.cpu_used&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 字段名称</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 条件操作符，参考枚举数据类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                        <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span> <span class="token comment">// 阈值</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span> 
            <span class="token punctuation">}</span>     
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;strategy&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 收敛策略：1-周期收敛；2-延迟收敛；3-周期次数收敛</span>
        <span class="token property">&quot;strategy_cycle&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 周期时间，单位：min</span>
        <span class="token property">&quot;strategy_count&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token comment">// 周期条数：单位：条</span>
        <span class="token property">&quot;not_match&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 1-直接发送；0-丢弃告警</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;recovery&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警自动恢复，非必填</span>
        <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 过滤方式：1-条件恢复；2-延迟恢复</span>
        <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 条件恢复才有该字段</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctn.cpu_used&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 字段名称</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 条件操作符，参考枚举数据类型：https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=50971872</span>
                        <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span> <span class="token comment">// 阈值</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>    
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;delay_interval&quot;</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token comment">// 延迟恢复时间，延迟恢复才有</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 选填，不填写为系统默认模板</span>
        <span class="token property">&quot;template_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@integer(1, 999999)&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;udf&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 仅template_id才有该数据，User Defined - 自定义</span>
            <span class="token property">&quot;compressed&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;dinggroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;dingworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;sms&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;wechat&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;yachgroup&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;yachworker&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 模板类型：1-TEXT；2-MARKDOWN；3-HTML；4-ActionCard</span>
                    <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模板内容&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模板内容，仅需要时填写，全部非必填</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;not_compress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 同上</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;upgrade&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 同上</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;recovery&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 同上</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br></div></div></details> <p><strong>Response</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;task&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">402</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;anotherhahahha&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a118971afebf95fee84d2599f0e521b8f24f3885&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7d00c3d896118bcb3ee390b2426aab7511872362&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;department_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">1595923897</span><span class="token punctuation">,</span>
            <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;creator&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another@foo.bar&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token string">&quot;部门&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;nullPhoneUsers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="告警任务删除-alarmtask"><a href="#告警任务删除-alarmtask" class="header-anchor">#</a> 告警任务删除-/alarmtask</h2> <p><code>DELETE /alarmtask</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/x-www-form-urlencoded</li></ul> <p><strong>Request Parameters:</strong></p> <table><thead><tr><th style="text-align:left;">参数名称</th> <th style="text-align:left;">是否必须</th> <th style="text-align:left;">示例</th> <th style="text-align:left;">备注</th></tr></thead> <tbody><tr><td style="text-align:left;">id</td> <td style="text-align:left;">是</td> <td style="text-align:left;">1</td> <td style="text-align:left;">告警任务ID</td></tr> <tr><td style="text-align:left;">timestamp</td> <td style="text-align:left;">是</td> <td style="text-align:left;">1595926163</td> <td style="text-align:left;">鉴权 Unix 时间戳</td></tr> <tr><td style="text-align:left;">sign</td> <td style="text-align:left;">是</td> <td style="text-align:left;">a5b24a99c2b008d148bb9c8dd0d9bc37</td> <td style="text-align:left;">鉴权签名</td></tr></tbody></table> <p><strong>Request Body:</strong></p> <p><code>无</code></p> <p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">403</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="告警任务停止-alarmtask-stop"><a href="#告警任务停止-alarmtask-stop" class="header-anchor">#</a> 告警任务停止-/alarmtask/stop</h2> <p><code>PUT /alarmtask/stop</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <p><code>无</code></p> <p><strong>Request Body:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token comment">// 任务ID</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1584672789&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 鉴权时间戳</span>
    <span class="token property">&quot;sign&quot;</span><span class="token operator">:</span> <span class="token string">&quot;415ccad4c8d33f2e4f158ec37e230223&quot;</span> <span class="token comment">// 鉴权签名</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">104</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="告警任务开启-alarmtask-start"><a href="#告警任务开启-alarmtask-start" class="header-anchor">#</a> 告警任务开启- /alarmtask/start</h2> <p><code>PUT /alarmtask/start</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <p><code>无</code></p> <p><strong>Request Body:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token comment">// 任务ID</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1584672789&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 鉴权时间戳</span>
    <span class="token property">&quot;sign&quot;</span><span class="token operator">:</span> <span class="token string">&quot;415ccad4c8d33f2e4f158ec37e230223&quot;</span> <span class="token comment">// 鉴权签名</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">104</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="告警任务挂起-alarmtask-pause"><a href="#告警任务挂起-alarmtask-pause" class="header-anchor">#</a> 告警任务挂起-/alarmtask/pause</h2> <p><code>PUT /alarmtask/pause</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <p><code>无</code></p> <p><strong>Request Body:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token comment">// 任务ID</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1584672789&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 鉴权时间戳</span>
    <span class="token property">&quot;sign&quot;</span><span class="token operator">:</span> <span class="token string">&quot;415ccad4c8d33f2e4f158ec37e230223&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 鉴权签名</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token comment">// 暂停的时间，单位：分钟</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">104</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="工作流详情-workflow-show"><a href="#工作流详情-workflow-show" class="header-anchor">#</a> 工作流详情-/workflow/show</h2> <p><code>GET /workflow/show</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <table><thead><tr><th style="text-align:left;">参数名称</th> <th style="text-align:left;">是否必须</th> <th style="text-align:left;">示例</th> <th style="text-align:left;">备注</th></tr></thead> <tbody><tr><td style="text-align:left;">id</td> <td style="text-align:left;">是</td> <td style="text-align:left;">1</td> <td style="text-align:left;">工作流ID</td></tr></tbody></table> <p><strong>Request Body:</strong></p> <p><code>无</code></p> <p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;workflow&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 工作流信息</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">402</span><span class="token punctuation">,</span> <span class="token comment">// 工作流ID</span>
            <span class="token property">&quot;task_id&quot;</span><span class="token operator">:</span> <span class="token number">141</span><span class="token punctuation">,</span> <span class="token comment">// 告警任务ID</span>
            <span class="token comment">// 告警收敛指标</span>
            <span class="token property">&quot;metric&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6d00f7400f67792f5122e099ee2401765b444683&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;history_id&quot;</span><span class="token operator">:</span> <span class="token number">100596</span><span class="token punctuation">,</span> <span class="token comment">// 告警记录ID</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 状态：0-待处理；1-处理中；2-处理完成；9-关闭</span>
            <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">1589524980</span><span class="token punctuation">,</span> <span class="token comment">// 创建时间</span>
            <span class="token property">&quot;updated_at&quot;</span><span class="token operator">:</span> <span class="token number">1589524980</span><span class="token punctuation">,</span> <span class="token comment">// 更新时间</span>
            <span class="token property">&quot;pipelines&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 流程记录</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 状态：0-待处理；1-处理中；2-处理完成；3-提醒；4-指派；5-重新激活；9-关闭</span>
                    <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;提醒&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 备注</span>
                    <span class="token property">&quot;props&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 记录属性</span>
                        <span class="token property">&quot;remind&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 提醒配置</span>
                            <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 提醒时间间隔</span>
                            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token comment">// 状态：0-待处理；1-处理中；2-处理完成；9-关闭</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 创建人</span>
                    <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">1589525584</span><span class="token punctuation">,</span> <span class="token comment">// 创建时间</span>
                    <span class="token property">&quot;creator&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span> <span class="token comment">// 创建人信息，null表示不存在，存在时为Object</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;task&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 任务信息</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">141</span><span class="token punctuation">,</span> <span class="token comment">// 任务ID</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;another-同比环比-mysql数据源测试&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任务名称</span>
                <span class="token property">&quot;department_id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 部门ID</span>
                <span class="token property">&quot;department&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 部门信息</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 部门ID</span>
                    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;质量研发部&quot;</span> <span class="token comment">// 部门名称</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;history&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 告警记录信息</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">100596</span><span class="token punctuation">,</span> <span class="token comment">// 告警记录ID</span>
                <span class="token property">&quot;uuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;34ec840c-fb09-48fc-9cce-5edfd14a8fb7&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 告警记录uuid</span>
                <span class="token property">&quot;batch&quot;</span><span class="token operator">:</span> <span class="token number">872381664</span><span class="token punctuation">,</span> <span class="token comment">// 收敛批次</span>
                <span class="token property">&quot;metric&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6d00f7400f67792f5122e099ee2401765b444683&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 收敛指标</span>
                <span class="token property">&quot;notice_time&quot;</span><span class="token operator">:</span> <span class="token number">1589524980</span><span class="token punctuation">,</span> <span class="token comment">// 通知时间</span>
                <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 通知级别</span>
                <span class="token property">&quot;ctn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{\&quot;school_id\&quot;:\&quot;8.0000\&quot;,\&quot;user_id\&quot;:65}&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 告警内容，JSON字符串格式</span>
                <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">1589524980</span> <span class="token comment">// 创建时间</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h2 id="工作流认领-workflow-claim"><a href="#工作流认领-workflow-claim" class="header-anchor">#</a> 工作流认领-/workflow/claim</h2> <p><code>PUT /workflow/claim</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <p><code>无</code></p> <p><strong>Request Body:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>       
	<span class="token property">&quot;ids&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 此值是工作流的主键ID，可以批量(ID保持唯一，别重复)</span>
    <span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 工作流认领人</span>
	<span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token comment">// 认领备注 可不填</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;workflows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token comment">// 工作流ID</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 状态：0-待处理；1-处理中；2-处理完成；9-关闭</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">89</span><span class="token punctuation">,</span> 
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="工作流指派-workflow-assign"><a href="#工作流指派-workflow-assign" class="header-anchor">#</a> 工作流指派-/workflow/assign</h2> <p><code>PUT /workflow/assign</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <p><code>无</code></p> <p><strong>Request Body:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;ids&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 不能重复，必填</span>
	<span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指派备注 必填</span>
	<span class="token property">&quot;assignto&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">22112</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 被指派人用户ID</span>
	<span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// 操作人用户ID</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;workflows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="工作流处理完成-workflow-processed"><a href="#工作流处理完成-workflow-processed" class="header-anchor">#</a> 工作流处理完成-/workflow/processed</h2> <p><code>PUT /workflow/processed</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <p><code>无</code></p> <p><strong>Request Body:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;ids&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token number">89</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 工作流ID，不可重复</span>
    <span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 必填</span>
    <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span> <span class="token comment">// 备注 必填</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;workflows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">89</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="工作流重新激活-workflow-reactive"><a href="#工作流重新激活-workflow-reactive" class="header-anchor">#</a> 工作流重新激活-/workflow/reactive</h2> <p><code>PUT /workflow/reactive</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <p><code>无</code></p> <p><strong>Request Body:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;ids&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 不能重复，必填</span>
    <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 备注 必填 </span>
    <span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;workflows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">159</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="工作流关闭-workflow-close"><a href="#工作流关闭-workflow-close" class="header-anchor">#</a> 工作流关闭-/workflow/close</h2> <p><code>PUT /workflow/close</code></p> <p><strong>Request Headers:</strong></p> <ul><li>Content-Type: application/json</li></ul> <p><strong>Request Parameters:</strong></p> <p><code>无</code></p> <p><strong>Request Body:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;ids&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 不能重复，必填</span>
    <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 备注 必填</span>
    <span class="token property">&quot;created_by&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Response:</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;workflows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">159</span><span class="token punctuation">,</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">9</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/tal-tech/alarm-dog/edit/master/docs/openapi/api.md" target="_blank" rel="noopener noreferrer">哮天犬后台</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">11/25/2020, 3:10:40 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/alarm-dog-docs/openapi/api-sign.html" class="prev">
        接口签名
      </a></span> <span class="next"><a href="/alarm-dog-docs/faq/summary.html">
        问题汇总
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/alarm-dog-docs/assets/js/app.af20afb1.js" defer></script><script src="/alarm-dog-docs/assets/js/2.d68acc10.js" defer></script><script src="/alarm-dog-docs/assets/js/39.809699a6.js" defer></script>
  </body>
</html>
